{% extends 'base.html.twig' %}

{% block title %}
    {% if director is defined %}
        Ajouter un film pour {{ director }}
    {% else %}
        Ajouter un nouveau film
    {% endif %}
{% endblock %}

{% block body %}
    <div class="container">
        <h1>
            {% if director is defined %}
                Ajouter un film pour {{ director }}
            {% else %}
                Ajouter un nouveau film
            {% endif %}
        </h1>

        {{ form_start(form, {'attr': {'class': 'mt-4'}}) }}
            <div class="mb-3">
                {{ form_label(form.title) }}
                {{ form_widget(form.title, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.title) }}
            </div>

            <div class="mb-3">
                {{ form_label(form.director) }}
                {% if director is defined %}
                    {{ form_widget(form.director, {
                        'attr': {
                            'class': 'form-control',
                            'readonly': 'readonly'
                        }
                    }) }}
                {% else %}
                    {{ form_widget(form.director, {'attr': {'class': 'form-control'}}) }}
                {% endif %}
                {{ form_errors(form.director) }}
            </div>

            <div class="mb-3">
                {{ form_label(form.genre) }}
                {{ form_widget(form.genre, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.genre) }}
            </div>

            <div class="mb-3">
                {{ form_label(form.duration) }}
                {{ form_widget(form.duration, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.duration) }}
            </div>

            <button type="submit" class="btn btn-primary">Ajouter</button>
            {% if director is defined %}
                <a href="{{ path('films_by_director', {'director': director}) }}" class="btn btn-secondary">Retour</a>
            {% else %}
                <a href="{{ path('films_index') }}" class="btn btn-secondary">Retour</a>
            {% endif %}
        {{ form_end(form) }}
    </div>
{% endblock %}